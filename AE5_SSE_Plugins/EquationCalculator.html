<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Inline Equation Calculator</title>
<script type="text/javascript" src="utilities/plugin.js"></script>
<script>
/*eslint-env browser, amd*/
/*global eclipse*/	

//********************
//********************
//INSTRUCTIONS:
//highlight text to calculate -> highlight "1+1" -> returns "1+1=2"
//********************
//********************


window.onload = function() {
	var headers = { 
    name: "Inline Equation Calculator", 
    version: "2.0", 
    description: "Calculate an equation inline 1+1->1+1=2  - macalcav@us.ibm.com" 
  };
	var provider = new eclipse.PluginProvider(headers);		
	var serviceImpl = {
	    run: function(equation) {
	    	return String(equation) + "=" + parseFloat(eval(equation)).toFixed(2);
		}
	};
		
	var serviceProperties = {
		contentType: ["text/plain"],
	  	name: "Equation Calculator",
	  	id: "orion.edit.equationCalculator",
	  	key : [ "c", true, true, false ]//ctrl+shift+c
	};		
	
	provider.registerServiceProvider("orion.edit.command",serviceImpl, serviceProperties);
  provider.connect();	
};
</script>
</head>
  <body>
    <h1>EquationCalculator.html from AE5_SSE_Plugins by Michele Calcavecchia - macalcav@us.ibm.com</h1>
  </body>
</html>
